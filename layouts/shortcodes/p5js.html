{{- $id := .Get "id" -}}
{{- $width := .Get "width" -}}
{{- $height := .Get "height" -}}
{{- $dir := printf "content/%s" .Page.File.Dir | printf "%s" -}}
<iframe srcdoc='
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js"></script>
<script src="/js/p5js-global.js"></script>
{{ if (where (readDir $dir) "Name" "page.js") }}
<script src="page.js"></script>
{{ end }}
<div class="p5js" id="p5js-container" style="width: {{ $width }}; height: {{ $height }};"></div>
<script src="{{ $id }}.js"></script>
' id="iframe-{{ $id }}" style="width: {{ $width }}; height: {{ $height }}; overflow: hidden;"  scrolling="no" frameborder="0">
  <p>Your browser does not support iframes.</p>
</iframe>
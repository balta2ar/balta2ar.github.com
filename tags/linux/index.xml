<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux on Mostly Technical</title><link>https://balta2ar.github.io/tags/linux/</link><description>Recent content in Linux on Mostly Technical</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Sat, 21 Jan 2023 17:10:37 +0100</lastBuildDate><atom:link href="https://balta2ar.github.io/tags/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>Running programs in a separate networking namespace as a systemd service</title><link>https://balta2ar.github.io/posts/2023-01-21-running-programs-in-a-separate-networking-namespace/</link><pubDate>Sat, 21 Jan 2023 17:10:37 +0100</pubDate><guid>https://balta2ar.github.io/posts/2023-01-21-running-programs-in-a-separate-networking-namespace/</guid><description>&lt;p>In my case I needed to run &lt;a href="https://www.resilio.com/">resilio sync&lt;/a> in a separate networking namespace, which
had internet access over a VPN connection. This &lt;a href="https://github.com/slingamn/namespaced-openvpn">wonderful script&lt;/a> helps to create a networking interface for an OpenVPN connection.
To automate openvpn startup, I made the following systemd service file:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">Description&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">Namespaces OpenVPN&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">After&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">local-fs.target network.target&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">Type&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">simple&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">WorkingDirectory&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/path/to/nordvpn/config/files&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">ExecStart&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/path/to/namespaced-openvpn --config /path/to/nordvpn/config/files/us.ovpn&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">Restart&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">always&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">WantedBy&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">default.target&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>and enabled it&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo cp namespaced-openvpn.service /etc/systemd/system/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl start namespaced-openvpn.service
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl enable namespaced-openvpn.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>And similarly for resilio&lt;/p></description></item><item><title>MSI laptop overheating and fan noise</title><link>https://balta2ar.github.io/posts/2023-01-08-msi-laptop-overheating-and-fan-noise/</link><pubDate>Sun, 08 Jan 2023 15:47:14 +0100</pubDate><guid>https://balta2ar.github.io/posts/2023-01-08-msi-laptop-overheating-and-fan-noise/</guid><description>&lt;p>I have MSI GS65 laptop which is running Manjaro Linux.
Setting up nvidia drivers har been historically a huge pain, and after
one of the updates few months ago, one of the side effects was that
any moderate CPU load would cause the fans to go full blast. Besides
of reaching nearly 100 degrees Celsius, the noise was unbearable.&lt;/p>
&lt;p>I tried attacking the problem several times, but to no avail. Recently,
I tried one more time, and this time I managed to reduce the fan noise and
the max temperature to consistent 70 degrees Celsius.&lt;/p></description></item><item><title>Bandwidth shaping in Linux</title><link>https://balta2ar.github.io/posts/2013-11-23-bandwidth-shaping-in-linux/</link><pubDate>Sat, 23 Nov 2013 17:01:00 +0000</pubDate><guid>https://balta2ar.github.io/posts/2013-11-23-bandwidth-shaping-in-linux/</guid><description>&lt;p>It&amp;rsquo;s always been a problem for me to shape traffic in Linux. After Windows
experience with Outpost firewall I couldn&amp;rsquo;t find an easy and convenient way
to shape traffic in Linux. Judging by the amount of similar questions over
the Internet it&amp;rsquo;s unobvious not only to me but to many other users.&lt;/p>
&lt;!-- more -->
&lt;p>It appears there are different ways to achieve that in Linux. I personally found
two of them useful: &lt;a href="http://monkey.org/~marius/pages/?page=trickle">trickle&lt;/a> and &lt;a href="http://tldp.org/HOWTO/Traffic-Control-HOWTO/intro.html">tc&lt;/a>.&lt;/p></description></item></channel></rss>